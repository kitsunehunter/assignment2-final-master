<!DOCTYPE html>
<html lang="en">
    <head>
        <title>View Contacts</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="css/contactList.css" rel="stylesheet">
        <script src="/routes/index.js"></script>
    </head>
    <body class="contact-body">
       <%- include('../Components/NavBar.ejs') %>
            <div class="contact-list-container">
             <div class="add-contact-container">
        <a class="add-contact-btn" href="/addContact">Add Contact</a>
        </div>
        <div class="styled-div">
       
            <table class="table table-striped" id="contact-list-table">
                <thead>
                    <tr>
                     <th scope="col">#</th>
                     <th scope="col">First</th>
                     <th scope="col">Last</th>
                     <th scope="col">Cellphone</th>
                     <th scope="col">Relation</th>
                     <th scope="col"></th>
                    <th scope="col"></th>
                    </tr>
                </thead>
                 <tbody>
                         <% for(let counter = 0; counter < Contacts.length; counter++) { %>
                                  <tr>
                                  <%console.log(Contacts) %>
                                     <th scope="row"><%= counter + 1 %></th>
                                     <td><%= Contacts[counter].name %></td>
                                     <td><%= Contacts[counter].email %></td>
                                     <td><%= Contacts[counter].cellphone %></td>
                                     <td><%= Contacts[counter].relation %></td>
                                      <td class="text-center"><a href="/edit/<%= Contacts[counter]._id %>" class="btn btn-primary btn-sm edit"> Edit</a></td>
                                      <td class="text-center">
                                       <button type="button" class="delete-btn" data-toggle="modal" data-target="#DeleteContactModal" id="delete-btn" >Delete Contact</button>
                                   
                                      
                                      </td>
                                  </tr>
                                    <div class="modal fade" id="DeleteContactModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                     <div class="modal-dialog" role="document">
                                         <div class="modal-content">
                                           <div class="modal-header">
                                           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                           <span aria-hidden="true">&times;</span>
                                         </button>
                                            Are you sure you want to delete this contact?
                                   </div>
                                    <div class="modal-footer">
                                         <a href="/delete/<%= Contacts[counter]._id %>" id="delete-btn"> Delete</button>
                                         <a href="/ContactList">Back</a> 
                                    </div>
                                </div>

                            <% } %>
                       
                    </tbody>
                </table>
                    
                 </div>
            </div>
           <%- include('../Components/footer.ejs') %>
    </body>
</html>